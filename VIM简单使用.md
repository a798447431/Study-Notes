# VIM简单使用
## 1. vim的四种模式
　vim常用的有四种模式，分别为**普通模式**，**命令模式**，**插入模式**和**可视模式**
　下图是不同模式之间的**切换命令**:

![](/home/szt/Downloads/53eb89158008bece_img3.jpg)　
**一般模式: **
　以vim打开一个文件就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用上下左右按键来移动光标，你可以使用删除字符或删除整行来处理文件内容， 也可以使用复制、粘贴来处理你的文件数据。

**编辑模式: **
　在一般模式中可以进行删除、复制、粘贴等的操作，但是却无法编辑文件的内容，只有当到你按下【i, I, o, O, a, A, r, R】等任何一个字母之后才会进入编辑模式。这时候屏幕的左下方会出现【INSERT或 REPLACE】的字样，此时才可以进行编辑。而如果要回到一般模式时， 则必须要按下【Esc】即可退出编辑模式。

**命令行模式: **
　输入【 : / ? 】三个中的任何一个，就可以将光标移动到最底下那一行。在这个模式中， 可以提供查找、读取、存盘、替换字符、离开vi、显示行号等的动作则是在此模式中完成的！

**可视模式: **
  在一般模式中按【v, shift + v, ctrl + v】可以进入可视模式，可视模式允许用户任意选中一块文本区域，并在上进行操作。主要分为操作字符文本、行文本、块文本这三种。 



## 2. 一般模式可用的按钮说明

**使用vim进入一般模式**

```bash
vim szt.txt
```

 **移动光标: **
【h、j、k、l】，分别控制光标<u>**左、下、上、右移一格**</u>
按【ctrl+b】屏幕往<u>**"后"**</u>移动一页
按【ctrl+f】屏幕往<u>**"前"**</u>移动一页

【n<space>】光标<u>**向右移动n个**</u>字符
【G】 移动到这个文件的<u>**最后一行**</u>
【nG】移动到这个文件的<u>**第n行**</u>(可配合:set nu)
【gg】 移动到这个文件的<u>**第一行**</u>，相当于1G
【n<Enter>】光标<u>**向下移动n行**</u>

**查找与替换: **
【/word】 向光标<u>**向下寻找**</u>一个名称为word的字符串
【?word】 向光标<u>**向上寻找**</u>一个名称为word的字符串
【n】 代表<u>**重复前一个查找的动作**</u>
【N】 与n刚好相反，为<u>**【反向】进行行前一个查找动作**</u>

【:n1,n2s/word1/word2/g】  n1与n2为数字，<u>**在第n1与n2行之间**</u>查找word1 这个字符串，并将该字符串<u>**替换**</u>为word2

【:1,$s/word1/word2/g】 <u>从**第一行到最后一行查找**</u>word1字符串，并将该字符串<u>**替换**</u>为word2
【:1,$s/word1/word2/gc】 从<u>**第一行到最后一行查找**</u>word1字符串，并将该字符串<u>**替换**</u>为word2 ，且在替换前<u>提示用户确认是否进行替换</u>

**删除、复制、粘贴与修改: **

【x】 为<u>**向后删除一个字符**</u> (相当于【del】键)
【X】 为<u>**向前删除一个字符**</u>(相当于【backspace】键)
【nx】 连续<u>**向后删除n个**</u>字符
【dd】 删除<u>**光标所在行**</u>
【ndd】 删除光标<u>**所在的向下n行**</u>
【d1G】 删除光标<u>**所在行到第一行的所有数据**</u>
【dG】 删除光标<u>**所在到最后一行的所有数据**</u>
【dw】 删除<u>**光标所在的单词**</u>
【dnw】 删除光标所在的向下n个单词, 不太常用
【d$】 删除<u>**光标所在处到该行的最后一个**</u>字符
【d^】 删除<u>**光标所在处到该行的最前一个**</u>字符提示用户确认是否进行替换

【yy】 复制光标<u>**所在的那一行**</u>
【nyy】 复制光标<u>**所在的向下n列**</u>

【y1G】 复制光标<u>**所在行到第一行**</u>的所有数据
【yG】 复制光标<u>**所在行到最后一行**</u>的所有数据

【y^】复制光标所在的那个字符到<u>**该行行首**</u>的所有数据
【y$】 复制光标所在的那个字符到<u>**该行行尾**</u>的所有数据

【p】将已复制的数据在<u>**光标下一行**</u>粘贴上
【P】将已复制的数据在<u>**光标上一行**</u>粘贴上

 **修改 == 删除 + 进入插入模式**
【c0,c^】删除光标<u>**从当前位置（不包含）到该行行首所有字符**</u>，并进入插入模式
【c$】删除光标<u>**从当前位置（包含）到该行行尾所有字符**</u>，并进入插入模式
【cw】删除从光标<u>**当前位置（包含）到单词起始处的所有字符**</u>，并进入插入模式
【cc】删除<u>**光标所在行的字符**</u>，并进入插入模式

【u】 **恢复**前一个操作, **undo**
【Ctrl+r】**重做**上一个操作, **redo**

【.】 是**重复**前一个操作



## 3. 一般模式切换到编辑模式的可用的按钮说明

【i, I】 进入编辑模式：
i 为从**<u>目前光标所在处</u>**插入
I 为在**<u>目前所在行的第一个非空格符处</u>**开始插入

【a, A】 进入编辑模式(Insert mode)：
a 为**<u>从目前光标所在的下一个字符处</u>**开始插入
A 为**<u>从光标所在行的最后一个字符处</u>**开始插入

【o, O】 进入编辑模式：
o 为**<u>在目前光标所在的下一行处</u>**插入新的一行
O 为**<u>在目前光标所在处的上一行</u>**插入新的一行

【r, R】 进入替换模式：
r 只会替换光标所在的那一个字符**<u>一次</u>**
R会**<u>一直替换</u>**光标所在的文字，直到按下 **ESC** 为止；

【Esc】 退出编辑模式，回到**<u>一般模式</u>**



## 4. 一般模式切换到命令行模式可用的按钮说明

【:w】 保存编辑的内容
【:w!】强制写入该文件，但跟你对该文件的权限有关
【:q】 离开vim
【:q!】 不想保存修改强制离开
【:wq】 保存后离开
【:x】 保存后离开

【:w filename】 将编辑的数据保存成另一个文件（类似另存）
【:n1,n2 w filename】 将n1到n2的内容保存成filename这个文件。
【:! command】暂时离开vi 到命令行模式下执行command的显示结果！例如 【:! ls /home】即可在 vim 当中察看/home底下以ls输出的文件信息！

【:set nu】 显示行号
【:set nonu】 与 set nu 相反，为取消行
【:set paste】 切换到插入模式的粘贴模式，**可以在插入模式下粘贴内容，不会有任何变形**。




